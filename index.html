
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presales Compass</title>
    <link rel="icon" href="data:,">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- 외부 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
</head>
<body>
    <div id="loading-overlay">
        <div id="loading-spinner" class="spinner"></div>
        <div id="loading-content">
            <p style="font-weight:600; color:var(--text-secondary)">엔진을 예열하고 있습니다...</p>
        </div>
    </div>

    <!-- 온보딩 화면 -->
    <div id="view-onboarding" class="hidden">
        <div class="onboarding-card">
            <div class="onboarding-logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>
            </div>
            <h1 style="font-size: 24px; margin-bottom: 8px;">Presales Compass</h1>
            <p style="color: var(--text-secondary); margin-bottom: 32px; font-size: 15px;">나침반을 사용하기 위해 성함을 입력하세요.<br><small>(관리자는 '관리자' 입력)</small></p>
            <input type="text" id="user-name-input" class="onboarding-input" placeholder="성함 입력" maxlength="20">
            <button id="btn-onboarding-start" class="btn-primary">나침반 시작하기</button>
        </div>
    </div>

    <!-- 메인 앱 인터페이스 -->
    <div id="app" class="app-container hidden">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <div class="logo-box">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>
                </div>
                <span class="app-title">Presales Compass</span>
            </div>
            <div class="sidebar-menu">
                <div class="menu-label">MENU</div>
                <button id="menu-suitability" class="menu-item active" data-view="suitability">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                    업무 적합성 체크리스트
                    <div class="active-indicator"></div>
                </button>
                <button id="menu-competency" class="menu-item" data-view="competency">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
                    역량 평가 및 학습
                    <div class="active-indicator"></div>
                </button>
                <button id="menu-report" class="menu-item" data-view="report">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    종합 결과 보고서
                    <div class="active-indicator"></div>
                </button>
            </div>
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div id="user-avatar" class="avatar-circle">?</div>
                    <div>
                        <div id="user-name-display" style="font-weight: 600; font-size: 14px;">사용자</div>
                        <div id="btn-logout" style="font-size: 11px; color: var(--text-muted); cursor: pointer;">로그아웃</div>
                    </div>
                </div>
                <div class="sync-status">
                    <div id="sync-dot" class="sync-dot"></div>
                    <span id="sync-text">클라우드 동기화 됨</span>
                </div>
            </div>
        </nav>

        <main class="main">
            <!-- 1. 업무 적합성 -->
            <div id="view-suitability">
                <div class="page-header">
                    <div>
                        <h1>업무 적합성 체크리스트</h1>
                        <p class="page-subtitle"><span class="welcome-name">사용자</span>님, 당신의 성향을 진단해보세요.</p>
                    </div>
                    <button id="btn-reset-suitability" class="btn-reset">초기화</button>
                </div>
                <div class="card-premium score-overview-card">
                    <div class="score-circle">
                        <span id="suitability-total-score" class="score-number">0</span>
                        <span class="score-unit">점</span>
                    </div>
                    <div class="score-details" style="flex:1">
                        <div style="font-size:14px; font-weight:600; color:var(--text-secondary); margin-bottom:12px;">현재 적합도 점수</div>
                        <div style="display:flex; justify-content:space-between; font-size:13px; margin-bottom:8px;">
                            <span id="suitability-progress-text">진행률 (0/11)</span>
                            <span id="suitability-progress-percent">0%</span>
                        </div>
                        <div class="progress-bar-track">
                            <div id="suitability-progress-bar" class="progress-bar-fill"></div>
                        </div>
                    </div>
                </div>
                <div id="checklist-container"></div>
            </div>

            <!-- 2. 역량 평가 -->
            <div id="view-competency" class="hidden">
                <div class="page-header">
                    <div>
                        <h1>역량 평가 및 학습 우선순위</h1>
                        <p class="page-subtitle"><span class="welcome-name">사용자</span>님의 현재 역량을 진단합니다.</p>
                    </div>
                    <button id="btn-reset-competency" class="btn-reset">초기화</button>
                </div>
                <div class="card-premium">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th class="text-center" style="width:13%">영역</th>
                                    <th style="width:46%">역량 상세</th>
                                    <th class="text-center" style="width:8%">중요도</th>
                                    <th class="text-center" style="width:25%">내 역량 (1~5)</th>
                                    <th class="text-center" style="width:8%">GAP</th>
                                </tr>
                            </thead>
                            <tbody id="competency-table-body"></tbody>
                        </table>
                    </div>
                </div>
                <div id="priority-section" class="hidden">
                    <h3 style="font-size:20px; margin-top:40px;">학습 우선순위 TOP 3</h3>
                    <div id="priority-list" class="priority-grid"></div>
                </div>
            </div>

            <!-- 3. 리포트 -->
            <div id="view-report" class="hidden">
                <div class="page-header">
                    <h1>종합 결과 보고서</h1>
                    <button id="btn-download-pdf" class="btn-reset">PDF 저장</button>
                </div>
                <div id="report-content"></div>
            </div>

            <!-- 4. 관리자 모드 -->
            <div id="view-admin" class="hidden">
                <div class="page-header">
                    <h1>사용자 데이터 관리</h1>
                    <button id="btn-admin-logout" class="btn-reset">관리자 로그아웃</button>
                </div>
                <div id="admin-dashboard" class="admin-grid"></div>
            </div>
        </main>
    </div>

    <!-- 스크립트 모듈 로드 -->
    <script type="module" src="app.js"></script>
</body>
</html>
